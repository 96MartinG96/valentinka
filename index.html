<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Valent√≠nka üíñ</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      overflow: hidden;
    }

    .card {
      background: white;
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      max-width: 520px;
      width: calc(100% - 40px);
      position: relative;
      z-index: 2;
    }

    h1 {
      margin: 0 0 26px 0;
      line-height: 1.2;
    }

    .btnRow {
      display: flex;
      gap: 12px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    button {
      font-size: 18px;
      padding: 12px 22px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      user-select: none;
    }

    #yes {
      background-color: #ff4d6d;
      color: white;
    }

    #no {
  background-color: #e6e6e6;
  position: relative; /* najprv je norm√°lne vedƒæa √ÅNO */
  z-index: 3;
}


    /* Success screen */
    #successScreen {
      display: none;
      text-align: center;
      padding: 30px;
    }

    #successScreen h1 {
      margin: 0 0 10px 0;
    }

    #successScreen p {
      margin: 0;
      font-size: 18px;
    }

    /* Music button */
    #musicBtn {
      position: fixed;
      right: 20px;
      bottom: 20px;
      padding: 10px 14px;
      border-radius: 12px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      background: #fff;
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
      z-index: 9999;
    }

    /* Hint when autoplay is blocked */
    #tapHint {
      position: fixed;
      left: 50%;
      top: 18px;
      transform: translateX(-50%);
      background: rgba(255,255,255,0.92);
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      z-index: 9999;
      display: none;
    }
  </style>
</head>

<body>

  <div class="card" id="mainCard">
    <div id="questionScreen">
  <h1>Bude≈° moja Valent√≠nka Mal√Ω Bosk? üíï</h1>

  <img src="intro.jpg" alt="Valent√≠nka"
       style="max-width:100%; border-radius:16px; margin:20px 0;" />

  <div class="btnRow">
    <button id="yes">√ÅNO üíñ</button>
    <button id="no">NIE üôÉ</button>
  </div>
</div>

<div id="successScreen">
  <h1>Milujem ≈•a! üíñ</h1>
  <p>Te≈°√≠m sa na na≈°e valent√≠nske rand√≠ƒçko! ü•∞</p>

  <img src="yes.jpg" alt="Valent√≠nka √°no"
       style="max-width:100%; border-radius:16px; margin-top:20px;" />
</div>


  <!-- Confetti kni≈ænica -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <!-- MUSIC UI -->
  <button id="musicBtn">üîá Hudba</button>
  <div id="tapHint">üîä Klikni hocikde pre spustenie hudby</div>

  <!-- Audio (MP3 je v root-e repa, tak≈æe cesta sed√≠) -->
  <audio id="bgm" loop>
    <source src="On Melancholy Hill.mp3" type="audio/mpeg">
  </audio>

  <script>
    // Elements
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const questionScreen = document.getElementById("questionScreen");
    const successScreen = document.getElementById("successScreen");

    // ====== NO button: run away ======
    function moveNoButton() {
  // a≈æ keƒè utek√°, prepne sa na fixed
  noBtn.style.position = "fixed";
  noBtn.style.transform = "none";

  const padding = 20;
  const btnW = noBtn.offsetWidth || 120;
  const btnH = noBtn.offsetHeight || 50;

  const maxX = window.innerWidth - btnW - padding;
  const maxY = window.innerHeight - btnH - padding;

  const x = Math.max(padding, Math.random() * maxX);
  const y = Math.max(padding, Math.random() * maxY);

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}


    // Utek√° na hover aj na click (mobil-friendly)
    noBtn.addEventListener("mouseover", moveNoButton);
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoButton();
    });

    // ====== Confetti ======
    function fireConfetti() {
      if (typeof confetti !== "function") return;

      confetti({ particleCount: 120, spread: 70, origin: { y: 0.6 } });
      setTimeout(() => confetti({ particleCount: 80, spread: 100, origin: { y: 0.7 } }), 250);
      setTimeout(() => confetti({ particleCount: 60, spread: 120, origin: { y: 0.5 } }), 500);
    }

    // ====== YES click: show success without deleting the page ======
    yesBtn.addEventListener("click", () => {
      fireConfetti();
      questionScreen.style.display = "none";
      successScreen.style.display = "block";
    });

    // ====== Music logic ======
    const bgm = document.getElementById("bgm");
    const musicBtn = document.getElementById("musicBtn");
    const tapHint = document.getElementById("tapHint");
    let playing = false;

    function updateMusicBtn() {
      musicBtn.textContent = playing ? "üîä Hudba" : "üîá Hudba";
    }

    async function tryPlayMusic() {
      try {
        await bgm.play();
        playing = true;
        updateMusicBtn();
        tapHint.style.display = "none";
        return true;
      } catch (e) {
        // Autoplay blocked ‚Üí show hint
        tapHint.style.display = "block";
        return false;
      }
    }

    async function toggleMusic() {
      try {
        if (!playing) {
          await bgm.play();
          playing = true;
          tapHint.style.display = "none";
        } else {
          bgm.pause();
          playing = false;
        }
        updateMusicBtn();
      } catch (e) {}
    }

    musicBtn.addEventListener("click", (e) => {
      e.stopPropagation(); // nech to ner√°ta ako "klik hocikde" (aj tak je to ok)
      toggleMusic();
    });

    // Try autoplay on load
    window.addEventListener("load", () => {
      tryPlayMusic();
    });

    // If blocked, start after first click anywhere
    document.addEventListener("click", () => {
      if (!playing) tryPlayMusic();
    }, { once: true });

    // Initial state
    updateMusicBtn();
  </script>

</body>
</html>



